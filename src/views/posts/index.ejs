<%- include('../partials/header') %>
<div class="container">
    <div style="max-width: 600px; margin: 1rem auto;">
        <%- include('../partials/create-post') %>
    </div>    
    <% posts.forEach((post) => { %>
        <!-- 나의 포스트인지 -->
        <% if (post.author.id.equals(currentUser._id) ||
        //친구가 있다면 친구 포스트 가져오기
            currentUser.friends.find(friend => friend === post.author.id.toString())) { %>
            <div style="max-width: 600px; margin: 1rem auto;">
                <%- include('../partials/post-item', { post: post}) %>
            </div>            
        <% } %>
    <% }) %>
    
</div>

<%- include('../partials/post-modal') %>
<%- include('../partials/footer') %>